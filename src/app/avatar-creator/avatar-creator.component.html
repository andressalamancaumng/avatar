<!-- src/app/avatar-creator/avatar-creator.component.html -->
<div class="avatar-creator">
  <div class="header">
    <h1>ðŸŽ® Creador de Avatar</h1>
    <p>Personaliza tu personaje</p>
  </div>

  <div class="content">
    <!-- Avatar Preview -->
    <div class="avatar-preview">
      <h2>Vista Previa</h2>
      <div class="avatar-container">
        <svg viewBox="0 0 200 300" class="avatar-svg">
          <!-- Head -->
          <ellipse cx="100" cy="80" rx="45" ry="50" [attr.fill]="avatar.skinColor" />
          
          <!-- Hair -->
          <g *ngIf="avatar.hairStyle !== 'bald'">
            <!-- Short Hair -->
            <ellipse *ngIf="avatar.hairStyle === 'short'" 
                     cx="100" cy="55" rx="50" ry="30" 
                     [attr.fill]="avatar.hairColor" />
            
            <!-- Medium Hair -->
            <g *ngIf="avatar.hairStyle === 'medium'">
              <ellipse cx="100" cy="55" rx="52" ry="35" [attr.fill]="avatar.hairColor" />
              <rect x="50" y="65" width="100" height="30" [attr.fill]="avatar.hairColor" />
            </g>
            
            <!-- Long Hair -->
            <g *ngIf="avatar.hairStyle === 'long'">
              <ellipse cx="100" cy="55" rx="54" ry="35" [attr.fill]="avatar.hairColor" />
              <rect x="48" y="65" width="104" height="60" [attr.fill]="avatar.hairColor" rx="10" />
            </g>
            
            <!-- Ponytail -->
            <g *ngIf="avatar.hairStyle === 'ponytail'">
              <ellipse cx="100" cy="55" rx="50" ry="30" [attr.fill]="avatar.hairColor" />
              <ellipse cx="145" cy="80" rx="15" ry="25" [attr.fill]="avatar.hairColor" />
            </g>
          </g>
          
          <!-- Eyes -->
          <circle cx="85" cy="75" r="5" fill="#000000" />
          <circle cx="115" cy="75" r="5" fill="#000000" />
          
          <!-- Nose -->
          <line x1="100" y1="85" x2="100" y2="95" stroke="#000000" stroke-width="2" />
          
          <!-- Mouth -->
          <path d="M 90 105 Q 100 110 110 105" stroke="#000000" stroke-width="2" fill="none" />
          
          <!-- Neck -->
          <rect x="85" y="125" width="30" height="15" [attr.fill]="avatar.skinColor" />
          
          <!-- Shirt/Body -->
          <g *ngIf="avatar.gender === 'male'">
            <rect x="60" y="140" width="80" height="70" [attr.fill]="avatar.shirtColor" rx="5" />
            <line x1="100" y1="140" x2="100" y2="210" stroke="#000000" stroke-width="1" opacity="0.2" />
          </g>
          
          <g *ngIf="avatar.gender === 'female'">
            <path d="M 70 140 L 130 140 L 135 210 L 65 210 Z" 
                  [attr.fill]="avatar.shirtColor" />
          </g>
          
          <!-- Arms -->
          <rect x="40" y="145" width="20" height="60" [attr.fill]="avatar.shirtColor" rx="10" />
          <rect x="140" y="145" width="20" height="60" [attr.fill]="avatar.shirtColor" rx="10" />
          <circle cx="50" cy="205" r="8" [attr.fill]="avatar.skinColor" />
          <circle cx="150" cy="205" r="8" [attr.fill]="avatar.skinColor" />
          
          <!-- Pants -->
          <g>
            <rect x="65" y="210" width="30" height="70" [attr.fill]="avatar.pantsColor" />
            <rect x="105" y="210" width="30" height="70" [attr.fill]="avatar.pantsColor" />
            <line x1="80" y1="210" x2="80" y2="280" stroke="#000000" stroke-width="1" opacity="0.2" />
            <line x1="120" y1="210" x2="120" y2="280" stroke="#000000" stroke-width="1" opacity="0.2" />
          </g>
          
          <!-- Shoes -->
          <ellipse cx="80" cy="285" rx="18" ry="8" fill="#333333" />
          <ellipse cx="120" cy="285" rx="18" ry="8" fill="#333333" />
        </svg>
      </div>
      
      <div class="action-buttons">
        <button (click)="randomizeAvatar()" class="btn btn-secondary">
          ðŸŽ² Aleatorio
        </button>
        <button (click)="resetAvatar()" class="btn btn-secondary">
          ðŸ”„ Reiniciar
        </button>
      </div>
    </div>

    <!-- Customization Panel -->
    <div class="customization-panel">
      <h2>PersonalizaciÃ³n</h2>
      
      <!-- Gender Selection -->
      <div class="option-group">
        <label class="option-label">1. GÃ©nero</label>
        <div class="button-group">
          <button 
            [class.active]="avatar.gender === 'male'"
            (click)="avatar.gender = 'male'; onGenderChange()"
            class="btn-option">
            ðŸ‘¨ Masculino
          </button>
          <button 
            [class.active]="avatar.gender === 'female'"
            (click)="avatar.gender = 'female'; onGenderChange()"
            class="btn-option">
            ðŸ‘© Femenino
          </button>
        </div>
      </div>

      <!-- Skin Color -->
      <div class="option-group">
        <label class="option-label">2. Color de Piel</label>
        <div class="color-grid">
          <button 
            *ngFor="let color of skinColors"
            [class.active]="avatar.skinColor === color.value"
            (click)="avatar.skinColor = color.value"
            class="color-option"
            [style.background-color]="color.value"
            [attr.aria-label]="color.name">
            <span class="color-name">{{ color.name }}</span>
          </button>
        </div>
      </div>

      <!-- Hair Color -->
      <div class="option-group">
        <label class="option-label">3. Color de Cabello</label>
        <div class="color-grid">
          <button 
            *ngFor="let color of hairColors"
            [class.active]="avatar.hairColor === color.value"
            (click)="avatar.hairColor = color.value"
            class="color-option"
            [style.background-color]="color.value"
            [attr.aria-label]="color.name">
            <span class="color-name">{{ color.name }}</span>
          </button>
        </div>
      </div>

      <!-- Hair Style -->
      <div class="option-group">
        <label class="option-label">Corte de Cabello</label>
        <div class="button-group">
          <button 
            *ngFor="let style of currentHairStyles"
            [class.active]="avatar.hairStyle === style.value"
            (click)="avatar.hairStyle = style.value"
            class="btn-option">
            {{ style.name }}
          </button>
        </div>
      </div>

      <!-- Shirt Color -->
      <div class="option-group">
        <label class="option-label">4. Color de Camiseta</label>
        <div class="color-grid">
          <button 
            *ngFor="let color of shirtColors"
            [class.active]="avatar.shirtColor === color.value"
            (click)="avatar.shirtColor = color.value"
            class="color-option"
            [style.background-color]="color.value"
            [style.color]="color.value === '#FFFFFF' ? '#000' : '#FFF'"
            [attr.aria-label]="color.name">
            <span class="color-name">{{ color.name }}</span>
          </button>
        </div>
      </div>

      <!-- Pants Color -->
      <div class="option-group">
        <label class="option-label">5. Color de PantalÃ³n</label>
        <div class="color-grid">
          <button 
            *ngFor="let color of pantsColors"
            [class.active]="avatar.pantsColor === color.value"
            (click)="avatar.pantsColor = color.value"
            class="color-option"
            [style.background-color]="color.value"
            [attr.aria-label]="color.name">
            <span class="color-name">{{ color.name }}</span>
          </button>
        </div>
      </div>

      <!-- Save/Load Buttons -->
      <div class="save-section">
        <button (click)="saveAvatar()" class="btn btn-primary">
          ðŸ’¾ Guardar Avatar
        </button>
        <button (click)="loadAvatar()" class="btn btn-primary">
          ðŸ“‚ Cargar Avatar
        </button>
      </div>
    </div>
  </div>
</div>